---
files: notes.md, app.js
week: 2
step: 4
name: Week 2 Step 4
---

## Week 2 Step 4

### Description:
Fetching tweets

### Git:

Once you have connected your GitHub to your local computer, run the following commands before starting:
<details><summary>1. In your main branch, pull any updates to your code. This is always good practice!</summary>
	
	git pull
</details>

<details><summary>2. Delete your previous branches locally and remotely.</summary>
	
	git branch -d [previousBranchName]
	git push origin --delete [previousBranchName]
</details>

<details><summary>3. Change your branch to a new one for this step.</summary>
	
	git checkout -b w1s2
</details>

<details><summary>4. Pull code for this branch again just in case.</summary>
	
	git pull
</details>

### Get Tweets from Twitter

We will be using Twit to make a "GET" request from Twitter's API. Let's start with defining a regular (synchronous) function called getTweets(). This function does not need any parameters since all we're doing is making a request. This will also be the first function that we will run.

- [ ] Create the getTweets() function
- [ ] Search through the [Twit npm documentation](https://www.npmjs.com/package/twit) to find how to make the GET request.
- [ ] Use the twit get request to fetch 10 tweets. You can customize this request - try changing the query type by including a hashtag you're interested in or the number of tweets you want to receive.
- [ ] Check if your function is working by running the program and seeing what is printed in the console.
- [ ] For now, your function is likely printing a lot of random data that we don't really need access to. Try to change your console.log statement to only print the tweets and nothing else.

Save your file and don't move forward until your code works and you can see that you're successfully only printing the tweets and no extra data.

❌ ❌ ❌ ❌ ❌ ❌ ❌ ❌ ❌ ❌ 

<details><summary>Peep my code for the getTweets() function:</summary>

  function getTweets() {
    T.get('search/tweets', { q: '#btsarmy since:2021-01-31', count: 10 , language: 'en'}, function(err, data, response) {
      console.log(data)
    })
  }
</details>

<details><summary>Peep my app.js:</summary>

  // importing the twit npm package
  var Twit = require('twit')

  // creating an object that will hold all Twitter keys
  var T = new Twit({
    consumer_key:         process.env.CONSUMER_KEY,
    consumer_secret:      process.env.CONSUMER_SECRET,
    access_token:         process.env.ACCESS_TOKEN,
    access_token_secret:  process.env.ACCESS_TOKEN_SECRET,
    timeout_ms:           60*1000,  // optional HTTP request timeout to apply to all requests.
    strictSSL:            true,     // optional - requires SSL certificates to be valid.
  })

  // uses the Twitter API client, twit, to make a get request and fetch 10 tweets with hashtag #btsarmy since Jan 31st 2021

  function getTweets() {
    T.get('search/tweets', { q: '#btsarmy since:2021-01-31', count: 10 , language: 'en'}, function(err, data, response) {
      //console.log(data);
      for(var i = 0; i < 10; i++)
          console.log(data.statuses[i].id_str);
      }
    })
  }

  // call the getTweets() function
  getTweets();
</details>

You did it!

![](https://media.giphy.com/media/McOXfLCpYA6mAQkKDj/giphy-downsized.gif)

### ✅ Review & Submit:

1. Under Step 4, research the difference between different types of REST API operations and explain why you think that we're using a GET request instead of the others.
2. Make a PR with the changes you just made to the repo to continue